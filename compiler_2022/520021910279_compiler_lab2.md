# `Compiler-lab2`几个问题的处理方式

- 关于`String`的处理：
  - 首先处理读取到的第一个双引号/“/*”符号，若为双引号，则跳转到<STR>部分；反之则跳转到<COMMENT>部分。
  - 之后在<STR>部分中，首先处理遇到了真正的字符串结束时的右半部分的双引号，此时使用`setMatch()`进行获取的字符串的类型匹配，并返回`STRING`类型。
  - 之后处理一些使用反斜杠进行转移的序列，包括`\"(嵌套的引号),\n,\t,\^c,\\,\f___f\,\bbb`几种。
  - 最后，除去上述情况外，我处理了最后一种可能正确的字符串情况，即任意输入`.`（不包括换行符）。
- 关于`Comments`的处理：
  - 由于`Comment`存在嵌套`Comment`的情况，所以使用框架已经提供的`comment_level_`变量来存储`comment`已经嵌套的层数。在我的实现中，最外层的`comment_level_`记录为1.
  - 在识别`String`时遇到"/*"时，进入<COMMENT>部分进行`Comment`的处理。
  - 在读取到`*/`时，先判断当前的`comment_level_`是否为1，若不为1，直接减去1，即表示内部的一层嵌套评论已经被处理，若已经为1，说明这已经是最外层的结尾，所以使用`begin()`函数直接跳转到`INITIAL`部分继续处理余下的输出。
  - 之后处理了一些其余输入内容，如`\n,.`等。
  - 若又遇到了`/*`，则将`comment_level_`直接加1。
- 关于`error`的处理：
  - 原有的初始代码框架已经提供了异常处理逻辑，所以我的处理`error`的逻辑是直接将所有可能的正确情况全部添加在已经提供的异常处理的**前面**，从而如果一个`token`无法被正确情况识别就会最终进入异常处理中并报错。
- 关于`EOF`的处理：
  - 根据[`FlexC++ Mutual`](https://fbb-git.github.io/flexcpp/manual/flexc++03.html#l22),可以得知`EOF`的检测字符串为`<<EOF>>`,另外，通过阅读`parserbase.h`，得知`Parser`中的`Token_`是从257开始遍历的，所以要选择一个小于257的数字作为`EOF`的编号。但是我最开始选择的是1，不知道为啥跑的时候会死循环。。。之后选择了0。
- 其他有趣的特性：
  - 暂无